#!/bin/sh

DESTROOT="@abs_top_builddir@/vendor/vendor-destroot"
MP_PREFIX="@prefix@/libexec/macports"
LIB_PATH="${DESTROOT}${MP_PREFIX}/lib:${DESTROOT}${MP_PREFIX}/lib/@SQLITE3_LIBNAME@"

# For macOS
if [ -z "$DYLD_LIBRARY_PATH" ]; then
    export DYLD_LIBRARY_PATH="$LIB_PATH"
else
    export DYLD_LIBRARY_PATH="$LIB_PATH:$DYLD_LIBRARY_PATH"
fi

# For Linux and *BSD
if [ -z "$LD_LIBRARY_PATH" ]; then
    export LD_LIBRARY_PATH="$LIB_PATH"
else
    export LD_LIBRARY_PATH="$LIB_PATH:$LD_LIBRARY_PATH"
fi

export TCLLIBPATH="${DESTROOT}${MP_PREFIX}/lib"

exec "@TCL_BIN_DIR@/tclsh" "$@"
